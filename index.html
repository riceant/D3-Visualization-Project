<html>
<head>
	<title>CS3300 Project 3 </title>
	<link rel="stylesheet" type="text/css" href="css/styles.css">
    <link href='http://fonts.googleapis.com/css?family=Anton|Shadows+Into+Light|Francois+One|Lemon' rel='stylesheet' type='text/css'>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js" charset="utf-8"></script>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<head>

<body>
<h1 class="titless">Who Needs a Scale? </h1>

<!-- //////////////////////////////////////////////////////////////////////////
	The following code creates the two human figures. To change values on the figures, 
	update one of the body demension variables (shown below with their initial value) 
	and call the function update().
	___________________________
		var density = 1.05;
		var percent =15;
		var Age = 30;
		var weight = 160;
		var height = 70;
		var NeckC = 38;
		var ChestC = 95;
		var AbdomenC = 90;
		var HipC = 98
		var ThighC = 58;
		var KneeC = 38;
		var AnkleC = 23;
		var BicepsC = 32;
		var ForearmC = 28;
		var WristC = 18;
	__________________________
	////////////////////////////////////////////////////////////////////// -->
	<div id="mainSlider" class="center">
		<span class="fran">Current Bodypart : </span><span id="bPart">BODYPART</span><br>
		<span class="fran">Current Value: </span><span id="bValue">VALUE</span>
		<div id="slider">
			<div id="instruc" class="fullwidth fran"> Please click on a body part in the dummy diagram below </div>
			<input class="fullwidth" id="ChestCSlider" type="range" min="80" max="125" value="95"/>

			<input class="fullwidth" id="AbdomenCSlider" type="range" min="75" max="105" value="90"/>

			<input class="fullwidth" id="HipCSlider" type="range" min="83" max="113" value="98"/>

			<input class="fullwidth" id="ThighCSlider" type="range" min="48" max="68" value="58"/>

			<input class="fullwidth" id="BicepsCSlider" type="range" min="22" max="42" value="32"/>

			<input class="fullwidth" id="NeckCSlider" type="range" min="28" max="48" value="38"/>

			<input class="fullwidth" id="KneeCSlider" type="range" min="33" max="43" value="38"/>

			<input class="fullwidth" id="WristCSlider" type="range" min="15" max="23" value="17"/>

			<input class="fullwidth" id="AnkleCSlider" type="range" min="18" max="28" value="23"/>	

			<input class="fullwidth" id="heightSlider" type="range" min="50" max="90" value="70"/>

			<input class="fullwidth" id="ForearmCSlider" type="range" min="20" max="36" value="28"/>
		</div>
	</div>

	
	<div id="sliders">

	</div>
	
	<div id="divCanvas" style="float:left"></div>
	<div id="divCanvasShape" style="float=right"></div>
			<div id="info">
		    <p class="tab">  &nbsp;&nbsp;&nbsp;  This information tells the story of how instead of a scale, you can simply grab a measuring tape to find out your total percent body fat. As it's an important measurment for keeping your health in check, our data helps show not only how you can calculate  the percent body fat through measruments, but also how body fat effects the various shapes of your body.
		   <br> &nbsp;&nbsp;&nbsp; The Data is based of a set of 252 men and was collected at the South Dakota School of Mines &amp; Technology
		    <br><br><span id="source">Source:
		    <a href="http://lib.stat.cmu.edu/datasets/bodyfat">http://lib.stat.cmu.edu/datasets/bodyfat</a> </span>
		    </p>
		</div>

	<script type="text/javascript">

		//dimensions of canvas
		var heightSVG = 1000;
		var width = 400;

		//creating svg element for curved human
		var svg = d3.select("#divCanvas")
			.append("svg")
			.attr("class", "canvas")
			.attr("id", "canvas")
			.attr("width", width)
			.attr("height", heightSVG)
			.attr("viewBox", "0 0 " + width + " " + heightSVG)
			.attr("preserveAspectRatio", "none");
		//creating svg element for shaped human
		var svgShape = d3.select("#divCanvasShape")
			.append("svg")
			.attr("class", "canvas")
			.attr("id", "canvas")
			.attr("width", width)
			.attr("height", heightSVG)
			.attr("viewBox", "0 0 " + width + " " + heightSVG)
			.attr("preserveAspectRatio", "none");

		//body dimension variables
		// var name = {
		// 	"density": 0;
		// 	"percent": 1;
		// };
		var density = 1.05;
		var percent = 15;
		var Age = 30;
		var weight = 160;
		var height = 70;
		var NeckC = 38;
		var ChestC = 95;
		var AbdomenC = 90;
		var HipC = 98
		var ThighC = 58;
		var KneeC = 38;
		var AnkleC = 23;
		var BicepsC = 32;
		var ForearmC = 28;
		var WristC = 18;
		//additional
		var armWidth = 0.05;
		var finger = 0.2;
		var feet = 1.3;
		var belly = 4.65;
		var bellytop = 5;
		var bellymiddle = 0.5*(bellytop+belly);

		//mapping from string to variable
		var mappingGetter = {
				"height": function() {return height;},
				"NeckC": function() {return NeckC;},
				"ChestC": function() {return ChestC;},
				"AbdomenC": function() {return AbdomenC;},
				"HipC": function() {return HipC;},
				"ThighC": function() {return ThighC;},
				"KneeC": function() {return KneeC;},
				"AnkleC": function() {return AnkleC;},
				"BicepsC": function() {return BicepsC;},
				"ForearmC": function() {return ForearmC;},
				"WristC": function() {return WristC;}
		};
		var mappingSetter = {
				"height": function(d) {height=d;},
				"NeckC": function(d) { NeckC=d;},
				"ChestC": function(d) { ChestC=d;},
				"AbdomenC": function(d) { AbdomenC=d;},
				"HipC": function(d) { HipC=d;},
				"ThighC": function(d) { ThighC=d;},
				"KneeC": function(d) { KneeC=d;},
				"AnkleC": function(d) { AnkleC=d;},
				"BicepsC": function(d) { BicepsC=d;},
				"ForearmC": function(d) { ForearmC=d;},
				"WristC": function(d) { WristC=d;}
		};

		//convert measurement values to strings in cm
		//takes in circumference in cm and putputs "30cm"
		var outputText = function(circumference) {
			var number = (Math.round(dia(circumference)*10)/10).toFixed(1);
			return number + "cm";
		};
		//width of output text
		var textWidth = 60;

		//body height diensions based ideal drawn figure-->height is equivalent to 8 heads
		// prop is used for the curved human
		var prop = {
			"head": [7.5, 0.5],
			"NeckC": [7.15, 6.9],
			"ChestC": [6.75, 6.15],
			"arm": [6],
			"AbdomenC": [5.25],
			"HipC": [4.1],
			"ThighC": [3.4],
			"feet": [0.3],
			"KneeC": [2],
			"BicepsC": [6.8, 1.8],
			"ForearmC": [5, 1],
			"WristC": [4, .1]
		};
		// sprop is used for the shape drawn human
		var sprop = {
			"head": [7.5, 0.5],
			"NeckC": [7.15, 0.4],
			"ChestC": [6.75, 1],
			"AbdomenC": [5.75, 1],
			"HipC": [4.75, 1],
			"ThighC": [4, 1.95],
			"AnkleC": [1.95, 1.65],
			"feet": [0.3, 0.3],
			"KneeC": [2],
			"BicepsC": [6.8, 1.8],
			"ForearmC": [5, 1],
			"WristC": [4, .1]
		};


		//conversion and scale functions
		///////////////////////////////////////////////////////////////////////
		//conversion functions
		//function converting circumference to diameter
		var dia = function(measurement) {
			return measurement/3.14; 
		}
		//function converting inches to centimeters
		var cm = function(measurement) {
			return measurement*2.54;
		}
		//scales: 180 cm is scaled to roughly 800 pixels
		//padding for yScale
		var heightPadding = 50;
		//yScale
		var heightScale = d3.scale.linear()
			.domain([0,214])
			.range([heightSVG-heightPadding,0]);
		//general scale
		var scale = d3.scale.linear()
			.domain([0,214])
			.range([0,heightSVG-heightPadding]);


		//useful canvas dimensions and body portion lengths
		var center = width/2;
		var bottom = heightPadding;
		var division = cm(height)/8;


		//placement functions
		///////////////////////////////////////////////////////////////////////
		//function calculating left position of centered aligned rect
		var placeCenterL = function(circumference) {
			return center - scale(dia(circumference)*.5);
		}
		//function calculating right position of centered aligned rect
		var placeCenterR = function(outside) {
			return center + scale(dia(outside)*.5);
		}
		//function calculating left position of rect alighed left of center
		var placeLeft = function(circumference) {
			return center - scale(dia(circumference));
		}
		//function calculating right position of rect aligned right of center
		var placeRight = function(circumference) {
			return center + scale(dia(circumference));
		}
		//function calculaing pixel diameter 
		var pixelWidth = function(circumference) {
			return scale(dia(circumference));
		}

		//draw Bezier Curve
		//widths are circumference
		//heights are factors of division units
		var BezierCirL = function(width1, height1, width2, height2) {
			var xy2 = " " + placeCenterL(width1) + " " + heightScale(division*(height1+height2)*0.5);
			var xy1 = " " + placeCenterL(width2) + " " + heightScale(division*(height1+height2)*0.5);
			var xy = " " + placeCenterL(width2) + " " + heightScale(division*(height2));
			return "C" + xy2 + xy1 + xy;
		};
		var BezierCirR = function(width1, height1, width2, height2) {
			var xy2 = " " + placeCenterR(width1) + " " + heightScale(division*(height1+height2)*0.5);
			var xy1 = " " + placeCenterR(width2) + " " + heightScale(division*(height1+height2)*0.5);
			var xy = " " + placeCenterR(width2) + " " + heightScale(division*(height2));
			return "C" + xy2 + xy1 + xy;
		};
		var BezierCirLL = function(width1, height1, width2, height2) {
			var xy2 = " " + placeLeft(width1) + " " + heightScale(division*(height1+height2)*0.5);
			var xy1 = " " + placeLeft(width2) + " " + heightScale(division*(height1+height2)*0.5);
			var xy = " " + placeLeft(width2) + " " + heightScale(division*(height2));
			return "C" + xy2 + xy1 + xy;
		};
		var BezierCirRR = function(width1, height1, width2, height2) {
			var xy2 = " " + placeRight(width1) + " " + heightScale(division*(height1+height2)*0.5);
			var xy1 = " " + placeRight(width2) + " " + heightScale(division*(height1+height2)*0.5);
			var xy = " " + placeRight(width2) + " " + heightScale(division*(height2));
			return "C" + xy2 + xy1 + xy;
		};

		//drawing human figure with SVG path
		///////////////////////////////////////////////////////////////////////
		var drawNeckC = function() {
			return 	"M " + placeCenterL(NeckC) + " " + heightScale(division*prop.NeckC[0]) + " " +
					"V " + heightScale(division*prop.ChestC[0]) + " " +
					"Q " + center + " " + heightScale(division*(prop.ChestC[0]-0.3)) + " " + 
						placeCenterR(NeckC) + " " + heightScale(division*prop.ChestC[0]) + " " + 
					"V " + heightScale(division*(prop.NeckC[0])) + " " +
					"Z";
		};
		var drawUpper = function() {
			return	"M " + placeCenterR(NeckC) + " " + heightScale(division*prop.ChestC[0]) + " " +
					"Q " + center + " " + heightScale(division*(prop.ChestC[0]-0.3)) + " " +
						placeCenterL(NeckC) + " " + heightScale(division*(prop.ChestC[0])) + " " + 
					"Q " + placeCenterL((1+armWidth)*ChestC+1.5*BicepsC) + " " + heightScale(division*prop.ChestC[0]) + " " +
						placeCenterL((1+armWidth)*ChestC+2*BicepsC) + " " + heightScale(division*prop.arm[0]) + " " +
					"H " + placeCenterL((1+armWidth)*ChestC) + " " +
					"L " + placeCenterL(ChestC) + " " + heightScale(division*prop.ChestC[1]) + " " +
					BezierCirL(ChestC, prop.ChestC[1], AbdomenC, prop.AbdomenC[0]) + " " +
					BezierCirL(AbdomenC, prop.AbdomenC[0], HipC, prop.HipC[0]) + " " +
					"H " + placeCenterR(HipC) + " " +
					BezierCirR(HipC, prop.HipC[0], AbdomenC, prop.AbdomenC[0]) + " " +
					BezierCirR(AbdomenC, prop.AbdomenC[0], ChestC, prop.ChestC[1]) + " " +
					"L " + placeCenterR((1+armWidth)*ChestC) + " " + heightScale(division*prop.arm[0]) + " " +
					"H " + placeCenterR((1+armWidth)*ChestC + 2*BicepsC) + " " +
					"Q " + placeCenterR((1 + armWidth)*ChestC + 1.5*BicepsC) + " " + heightScale(division*prop.ChestC[0]) + " " +
						placeCenterR(NeckC) + " " + heightScale(division*(prop.ChestC[0])) + " " +
					"Z";
		};
		var drawLeftArm = function() {
			return  "M " + placeCenterL((1+armWidth)*ChestC+2*BicepsC) + " " + heightScale(division*prop.arm[0]) + " " +
					"L " + placeCenterL((1+armWidth)*ChestC + BicepsC + ForearmC) + " " + heightScale(division*prop.ForearmC[0]) + " " +
					"L " + placeCenterL((1+armWidth)*ChestC + BicepsC + WristC) + " " + heightScale(division*prop.WristC[0]) + " " +
					"L " + placeCenterL((1+armWidth)*ChestC + BicepsC + WristC*1.25) + " " + heightScale(division*(prop.WristC[0]-finger)) + " " +
					"V " + heightScale(division*(prop.WristC[0]-2*finger)) + " " +
					"H " + placeCenterL((1+armWidth)*ChestC + BicepsC + 0.75*WristC) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-finger)) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-2*finger)) + " " +
					"H " + placeCenterL((1+armWidth)*ChestC + BicepsC + 0.25*WristC) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-finger)) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-2*finger)) + " " +
					"H " + placeCenterL((1+armWidth)*ChestC + BicepsC + (-0.25)*WristC) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-finger)) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-2*finger)) + " " +
					"H " + placeCenterL((1+armWidth)*ChestC + BicepsC + (-0.75)*WristC) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-finger)) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-1.5*finger)) + " " +
					"H " + placeCenterL((1+armWidth)*ChestC + BicepsC + (-1.25)*WristC) + " " + 
					"L " + placeCenterL((1+armWidth)*ChestC + BicepsC - WristC) + " " + heightScale(division*prop.WristC[0]) + " " +					"L " + placeCenterL((1+armWidth)*ChestC + BicepsC - ForearmC) + " " + heightScale(division*prop.ForearmC[0]) + " " +
					"L " + placeCenterL((1+armWidth)*ChestC) + " " + heightScale(division*prop.arm[0]) + " " +
					"Z";
		};
		var drawRightArm = function() {
			return  "M " + placeCenterR((1+armWidth)*ChestC+2*BicepsC) + " " + heightScale(division*prop.arm[0]) + " " +
					"L " + placeCenterR((1+armWidth)*ChestC + BicepsC + ForearmC) + " " + heightScale(division*prop.ForearmC[0]) + " " +
					"L " + placeCenterR((1+armWidth)*ChestC + BicepsC + WristC) + " " + heightScale(division*prop.WristC[0]) + " " +
					"L " + placeCenterR((1+armWidth)*ChestC + BicepsC + WristC*1.25) + " " + heightScale(division*(prop.WristC[0]-finger)) + " " +
					"V " + heightScale(division*(prop.WristC[0]-2*finger)) + " " +
					"H " + placeCenterR((1+armWidth)*ChestC + BicepsC + 0.75*WristC) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-finger)) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-2*finger)) + " " +
					"H " + placeCenterR((1+armWidth)*ChestC + BicepsC + 0.25*WristC) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-finger)) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-2*finger)) + " " +
					"H " + placeCenterR((1+armWidth)*ChestC + BicepsC + (-0.25)*WristC) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-finger)) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-2*finger)) + " " +
					"H " + placeCenterR((1+armWidth)*ChestC + BicepsC + (-0.75)*WristC) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-finger)) + " " + 
					"V " + heightScale(division*(prop.WristC[0]-1.5*finger)) + " " +
					"H " + placeCenterR((1+armWidth)*ChestC + BicepsC + (-1.25)*WristC) + " " + 
					"L " + placeCenterR((1+armWidth)*ChestC + BicepsC - WristC) + " " + heightScale(division*prop.WristC[0]) + " " +					
					"L " + placeCenterR((1+armWidth)*ChestC + BicepsC - ForearmC) + " " + heightScale(division*prop.ForearmC[0]) + " " +
					"L " + placeCenterR((1+armWidth)*ChestC) + " " + heightScale(division*prop.arm[0]) + " " +
					"Z";
		};
		var drawLower = function() {
	 		return	"M " + placeCenterL(HipC) + " " +heightScale(division*prop.HipC[0]) + " " +
	 				"L " + placeLeft(ThighC) + " " + heightScale(division*prop.ThighC[0]) + " " +
	 				//BezierCirL(HipC, prop.HipC[0], 2*ThighC, prop.ThighC[0]) + " " +
	 				BezierCirLL(ThighC, prop.ThighC[0], (0.5*(ThighC-KneeC)+KneeC), prop.KneeC[0]) + " " + 
	 				"L " + placeLeft(0.5*ThighC+0.5*AnkleC) + " " + heightScale(division*prop.feet[0]) + " " +
	 				"H " + placeLeft(0.5*ThighC-0.5*AnkleC) + " " +
	 				BezierCirLL(0.5*ThighC-0.5*AnkleC, prop.feet[0], 0.5*ThighC-0.5*KneeC, prop.KneeC[0]) + " " + 
	 				BezierCirLL(0.5*ThighC-0.5*KneeC, prop.KneeC[0], 0, prop.ThighC[0]) + " " +
	 				BezierCirRR(0, prop.ThighC[0], 0.5*ThighC-0.5*KneeC, prop.KneeC[0]) + " " +
	 				BezierCirRR(0.5*ThighC-0.5*KneeC, prop.KneeC[0], 0.5*ThighC-0.5*AnkleC, prop.feet[0]) + " " +
	 				"H " + placeRight(0.5*ThighC+0.5*AnkleC) + " " +
	 				"L " + placeRight(0.5*ThighC+0.5*KneeC) + " " + heightScale(division*prop.KneeC[0]) + " " +
	 				BezierCirRR((0.5*(ThighC-KneeC)+KneeC), prop.KneeC[0], ThighC, prop.ThighC[0]) + " " +
	 				"L " + placeCenterR(HipC) + " " + heightScale(division*prop.HipC[0]) + " " +
	 				//BezierCirR(2*ThighC, prop.ThighC[0], HipC, prop.HipC[0]) + " " +
	 				"Z";
		};
		var drawLeftShoe = function() {
			return  "M " + placeLeft(0.5*ThighC+0.2*AnkleC) + " " + heightScale(division*prop.feet[0]) + " " +
					"V " + heightScale(division*0.15) + " " +
					"H " + placeLeft(0.5*ThighC+(-0.2)*AnkleC) + " " +
					"V " + heightScale(division*prop.feet[0]) + " " +
					"L " + placeLeft(0.5*ThighC+0.2*AnkleC) + " " + heightScale(division*0.25) + " " +
					"L " + placeLeft(0.5*ThighC-0.2*AnkleC) + " " + heightScale(division*0.20) + " " +
					"L " + placeLeft(0.5*ThighC+0.2*AnkleC) + " " + heightScale(division*0.15) + " " +
					"L " + placeLeft(0.5*ThighC-0.2*AnkleC) + " " + heightScale(division*0.15) + " " +
					"L " + placeLeft(0.5*ThighC+0.2*AnkleC) + " " + heightScale(division*0.20) + " " +
					"L " + placeLeft(0.5*ThighC-0.2*AnkleC) + " " + heightScale(division*0.25) + " " +
					"L " + placeLeft(0.5*ThighC+0.2*AnkleC) + " " + heightScale(division*0.3) + " " +
					"M " + placeLeft(0.5*ThighC + 0.5*feet*AnkleC) + " " + heightScale(division*0.1) + " " +
					"Q " + placeCenterL(ThighC) + " " + heightScale(division*(-0.01)) + " " +
						placeCenterL(ThighC-1.15*AnkleC) + " " + heightScale(division*0.1) + " " + 					
					"M " + placeLeft(0.5*ThighC+0.5*AnkleC) + " " + heightScale(division*prop.feet[0]) + " " +
					BezierCirL(ThighC+AnkleC, prop.feet[0], ThighC+1.1*feet*AnkleC, 0.05) + " " +
					"Q " + placeCenterL(ThighC) + " " + heightScale(division*(-0.02)) + " " +
						placeCenterL(ThighC-feet*AnkleC) + " " + heightScale(division*0.05) + " " + 
					BezierCirL(ThighC-feet*AnkleC, 0.1, ThighC-AnkleC, prop.feet[0]) + " " +
					"Z"; 
		};
		var drawRightShoe = function() {
			return  "M " + placeRight(0.5*ThighC+0.2*AnkleC) + " " + heightScale(division*prop.feet[0]) + " " +
					"V " + heightScale(division*0.15) + " " +
					"H " + placeRight(0.5*ThighC+(-0.2)*AnkleC) + " " +
					"V " + heightScale(division*prop.feet[0]) + " " +
					"L " + placeRight(0.5*ThighC+0.2*AnkleC) + " " + heightScale(division*0.25) + " " +
					"L " + placeRight(0.5*ThighC-0.2*AnkleC) + " " + heightScale(division*0.20) + " " +
					"L " + placeRight(0.5*ThighC+0.2*AnkleC) + " " + heightScale(division*0.15) + " " +
					"L " + placeRight(0.5*ThighC-0.2*AnkleC) + " " + heightScale(division*0.15) + " " +
					"L " + placeRight(0.5*ThighC+0.2*AnkleC) + " " + heightScale(division*0.20) + " " +
					"L " + placeRight(0.5*ThighC-0.2*AnkleC) + " " + heightScale(division*0.25) + " " +
					"L " + placeRight(0.5*ThighC+0.2*AnkleC) + " " + heightScale(division*0.3) + " " +
					"M " + placeRight(0.5*ThighC + 0.5*feet*AnkleC) + " " + heightScale(division*0.1) + " " +
					"Q " + placeCenterR(ThighC) + " " + heightScale(division*(-0.01)) + " " +
						placeCenterR(ThighC-1.15*AnkleC) + " " + heightScale(division*0.1) + " " + 					
					"M " + placeRight(0.5*ThighC+0.5*AnkleC) + " " + heightScale(division*prop.feet[0]) + " " +
					BezierCirR(ThighC+AnkleC, prop.feet[0], ThighC+1.1*feet*AnkleC, 0.05) + " " +
					"Q " + placeCenterR(ThighC) + " " + heightScale(division*(-0.02)) + " " +
						placeCenterR(ThighC-feet*AnkleC) + " " + heightScale(division*0.05) + " " + 
					BezierCirR(ThighC-feet*AnkleC, 0.1, ThighC-AnkleC, prop.feet[0]) + " " +
					"Z"; 
		};
		var beerBelly = function() {
			return 	"M " + placeCenterL(0.42*(AbdomenC+HipC)-5) + " " + heightScale(division*belly) + " " +
					"Q " + center + " " + heightScale(division*(belly - percent/35)) + " " +
						placeCenterR(0.42*(AbdomenC+HipC)-5) + " " + heightScale(division*belly);
		};
		var beerBellyTop = function() {
			return 	"M " + placeCenterL(0.42*(AbdomenC+HipC)-5) + " " + heightScale(division*bellytop) + " " +
					"Q " + center + " " + heightScale(division*(belly + percent/50)) + " " +
						placeCenterR(0.42*(AbdomenC+HipC)-5) + " " + heightScale(division*bellytop);
		};
		var beerBellyMiddle = function() {
			return 	"M " + placeCenterL(0.42*(AbdomenC+HipC)-5) + " " + heightScale(division*(bellymiddle-0.1)) + " " +
					"Q " + center + " " + heightScale(division*(belly - percent/50)) + " " +
						placeCenterR(0.42*(AbdomenC+HipC)-5) + " " + heightScale(division*(bellymiddle-0.1));
		};
		var beerBellyMidTop = function() {
			return 	"M " + placeCenterL(0.42*(AbdomenC+HipC)-5) + " " + heightScale(division*(bellymiddle+0.1)) + " " +
					"Q " + center + " " + heightScale(division*(belly + percent/60)) + " " +
						placeCenterR(0.42*(AbdomenC+HipC)-5) + " " + heightScale(division*(bellymiddle+0.1));			
		};
		//addeding marker to SVG for measurement/arrow use
		///////////////////////////////////////////////////////////////////////
		svg.append("svg:defs")
			.append("svg:marker")
				.attr("id", "end")
				.attr("viewBox", "0 0 10 10")
				.attr("refX", "1")
				.attr("refY", "5")
				.attr("markerUnits", "strokeWidth")
				.attr("markerHeight", "6")
				.attr("markerWidth", "6")
				.attr("orient", "auto")
			.append("svg:path")
				.attr("d", "M 0 0 L 10 5 L 0 10 z");
		svg.append("svg:defs")
			.append("svg:marker")
				.attr("id", "begin")
				.attr("viewBox", "0 0 10 10")
				.attr("refX", "1")
				.attr("refY", "5")
				.attr("markerUnits", "strokeWidth")
				.attr("markerHeight", "6")
				.attr("markerWidth", "6")
				.attr("orient", "auto")
			.append("svg:path")
				.attr("d", "M 0 5 L 10 10 L 10 0 z");
		var arrowWidth = 10;

		//appending paths and arrows and measurements to SVG
		//appending NeckC
		var curvedNeck = svg.append("path")
			.attr("class", "curvedBody")
			.attr("id", "cuvedNeck")
			.attr("d", drawNeckC())
			.style("fill", "#FFCC66");
		//appending upper body
		var upperSVG = svg.append("path")
			.attr("class", "curvedBody")
			.attr("id", "upper")
			.attr("d", drawUpper())
			.style("fill", "red");
	 	//apendding lower body
		var lowerSVG = svg.append("path")
	 		.attr("class", "curvedBody")
	 		.attr("id", "lower")
	 		.attr("d", drawLower())
	 		.style("fill", "blue");
		//apend left arm
		var leftArmSVG = svg.append("path")
			.attr("class", "curvedBody")
			.attr("id", "leftArm")
			.attr("d", drawLeftArm())
			.style("fill", "#FFCC66");
		//apend right arm
		var rightArmSVG = svg.append("path")
			.attr("class", "curvedBody")
			.attr("id", "leftArm")
			.attr("d", drawRightArm())
			.style("fill", "#FFCC66");
	 	//append left shoe
	 	var leftShoeSVG = svg.append("path")
	 		.attr("class", "curvedBody")
	 		.attr("id", "leftShoe")
	 		.attr("d", drawLeftShoe())
	 		.style("fill", "#660000");
	 	//append Right shoe
	 	var rightShoeSVG = svg.append("path")
	 		.attr("class", "curvedBody")
	 		.attr("id", "rightShoe")
	 		.attr("d", drawRightShoe())
	 		.style("fill", "#660000");
	 	//appending head
	 	var headSVG = svg.append("ellipse")
	 		.attr("class", "curvedBody")
	 		.attr("id", "curvedHead")
	 		.attr("cy", heightScale(division*prop.head[0]))
	 		.attr("cx", center)
	 		.attr("rx", scale(dia(NeckC)*0.75))
	 		.attr("ry", scale(division*0.5))
			.style("fill", "#FFCC66");
		//appending beer belly
		var beerBellySVG = svg.append("path")
			.attr("class", "curvedBody")
			.attr("id", "belly")
			.attr("d", beerBelly());
		var beerBellySVGTop = svg.append("path")
			.attr("class", "curvedBody")
			.attr("id", "belly")
			.attr("d", beerBellyTop());
		var beerBellySVGMiddle = svg.append("path")
			.attr("class", "curvedBody")
			.attr("id", "bellyMiddle")
			.attr("d", beerBellyMiddle());
		var beerBellySVGMidTop = svg.append("path")
			.attr("class", "curvedBody")
			.attr("id", "bellyMiddle")
			.attr("d", beerBellyMidTop());			 		
		//drawing human figure with shapes
		///////////////////////////////////////////////////////////////////////
		//var shapeUpdate = function() {
			//NeckC
			var NeckCSVG = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "NeckC")
				.attr("x", placeCenterL(NeckC))
				.attr("y", heightScale(division*sprop.NeckC[0]))
				.attr("width", pixelWidth(NeckC))
				.attr("height", scale(division*sprop.NeckC[1]));
			//measure NeckC
			var NeckCArrow = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterR(NeckC))
				.attr("x2", placeCenterL(NeckC)+arrowWidth)
				.attr("y1", heightScale(division*prop.NeckC[1]))
				.attr("y2", heightScale(division*prop.NeckC[1]))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var NeckCText = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeRight(NeckC+1))
				.attr("y", heightScale(division*(sprop.NeckC[0]-0.7*sprop.NeckC[1])))
				.text(outputText(NeckC));
			//head
			var HeadSVG = svgShape.append("ellipse")
				.attr("class", "body")
				.attr("id", "head")
		 		.attr("cy", heightScale(division*prop.head[0]))
		 		.attr("cx", center)
		 		.attr("rx", scale(dia(NeckC)*0.75))
		 		.attr("ry", scale(division*0.5))
				.style("fill", "#AAAFB4");
			//ChestC
			var ChestCSVG = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "ChestC")
				.attr("x", placeCenterL(ChestC))
				.attr("y", heightScale(division*sprop.ChestC[0]))
				.attr("width", pixelWidth(ChestC))
				.attr("height", scale(division*sprop.ChestC[1]));
			//ChestC measurements
			var ChestCArrow = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterR(ChestC))
				.attr("x2", placeCenterL(ChestC)+arrowWidth)
				.attr("y1", heightScale(division*prop.ChestC[1]))
				.attr("y2", heightScale(division*prop.ChestC[1]))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var ChestCText = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", center)
				.attr("y", heightScale(division*(sprop.ChestC[0]-0.5*sprop.ChestC[1])))
				.text(outputText(ChestC));
			//abdomen
			var AbdomenCSVG = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "AbdomenC")
				.attr("x", placeCenterL(AbdomenC))
				.attr("y", heightScale(division*sprop.AbdomenC[0]))
				.attr("width", pixelWidth(AbdomenC))
				.attr("height", scale(division*sprop.AbdomenC[1]));
			//measure abdomen
			var AbdomenCArrow = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterR(AbdomenC))
				.attr("x2", placeCenterL(AbdomenC)+arrowWidth)
				.attr("y1", heightScale(division*prop.AbdomenC[0]))
				.attr("y2", heightScale(division*prop.AbdomenC[0]))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var AbdomenCText = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", center)
				.attr("y", heightScale(division*(sprop.AbdomenC[0]-0.45*sprop.AbdomenC[1])))
				.text(outputText(AbdomenC));
			//HipC
			var HipCSVG = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "HipC")
				.attr("x", placeCenterL(HipC))
				.attr("y", heightScale(division*sprop.HipC[0]))
				.attr("width", pixelWidth(HipC))
				.attr("height", scale(division*sprop.HipC[1]));
			//measure HipC
			var HipCArrow = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterR(HipC))
				.attr("x2", placeCenterL(HipC)+arrowWidth)
				.attr("y1", heightScale(division*prop.HipC[0]))
				.attr("y2", heightScale(division*prop.HipC[0]))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var HipCText = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", center)
				.attr("y", heightScale(division*(sprop.HipC[0]-0.6*sprop.HipC[1])))
				.text(outputText(HipC));
			//BicepsC left
			var BicepsCSVGLeft = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "BicepsC")
				.attr("x", placeCenterL(ChestC+2*BicepsC))
				.attr("y", heightScale(division*sprop.BicepsC[0]))
				.attr("width", pixelWidth(BicepsC))
				.attr("height", scale(division*sprop.BicepsC[1]));
			//BicepsC right
			var BicepsCSVGRight = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "BicepsC")
				.attr("x", placeCenterR(ChestC))
				.attr("y", heightScale(division*sprop.BicepsC[0]))
				.attr("width", pixelWidth(BicepsC))
				.attr("height", scale(division*sprop.BicepsC[1]));
			//BicepsCt measurements
			var BicepsCArrowLeft = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterL(ChestC))
				.attr("x2", placeLeft(BicepsC+0.5*ChestC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.attr("y2", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var BicepsCArrowRight = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterR(ChestC))
				.attr("x2", placeRight(BicepsC+0.5*ChestC)-arrowWidth)
				.attr("y1", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.attr("y2", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var BicepsCTextLeft = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterL(ChestC+BicepsC)-textWidth)
				.attr("y", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.text(outputText(BicepsC));
			var BiceptsCTextRight = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterR(ChestC+BicepsC)+textWidth)
				.attr("y", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.text(outputText(BicepsC));
			//ForearmC left
			var ForearmCSVGLeft = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "ForearmC")
				.attr("x", placeCenterL(ChestC+BicepsC+ForearmC))
				.attr("y", heightScale(division*sprop.ForearmC[0]))
				.attr("width", pixelWidth(ForearmC))
				.attr("height", scale(division*sprop.ForearmC[1]));
			//ForearmC right
			var ForearmCSVGRgith = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "ForearmC")
				.attr("x", placeRight(ChestC*.5 + .5*(BicepsC-ForearmC)))
				.attr("y", heightScale(division*sprop.ForearmC[0]))
				.attr("width", pixelWidth(ForearmC))
				.attr("height", scale(division*sprop.ForearmC[1]));
			//ForearmC measurements
			var f = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterL(ChestC+BicepsC+ForearmC))
				.attr("x2", placeCenterL(ChestC+BicepsC-ForearmC)-arrowWidth)
				.attr("y1", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])))
				.attr("y2", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var f2 = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterR(ChestC+BicepsC+ForearmC))
				.attr("x2", placeCenterR(ChestC+BicepsC-ForearmC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])))
				.attr("y2", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var f3 = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterL(ChestC+BicepsC)-textWidth)
				.attr("y", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])))
				.text(outputText(ForearmC));
			var f4 = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterR(ChestC+BicepsC)+textWidth)
				.attr("y", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])))
				.text(outputText(ForearmC));
			//ThighC left
			var f5 = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "ThighC")
				.attr("x", placeLeft(ThighC))
				.attr("y", heightScale(division*sprop.ThighC[0]))
				.attr("width", pixelWidth(ThighC))
				.attr("height", scale(division*sprop.ThighC[1]));
			//ThighC right
			var f6 = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "ThighC")
				.attr("x", center)
				.attr("y", heightScale(division*sprop.ThighC[0]))
				.attr("width", pixelWidth(ThighC))
				.attr("height", scale(division*sprop.ThighC[1]));
			//ThighC measurements
			var f7 = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", center)
				.attr("x2", placeLeft(ThighC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.ThighC[0]-0.5*sprop.ThighC[1])))
				.attr("y2", heightScale(division*(sprop.ThighC[0]-0.5*sprop.ThighC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var f8 = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeRight(ThighC))
				.attr("x2", center+arrowWidth)
				.attr("y1", heightScale(division*(sprop.ThighC[0]-0.5*sprop.ThighC[1])))
				.attr("y2", heightScale(division*(sprop.ThighC[0]-0.5*sprop.ThighC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var f9 = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterL(ThighC))
				.attr("y", heightScale(division*(sprop.ThighC[0]-0.45*sprop.ThighC[1])))
				.text(outputText(ThighC));
			var f10 = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterR(ThighC))
				.attr("y", heightScale(division*(sprop.ThighC[0]-0.45*sprop.ThighC[1])))
				.text(outputText(ThighC));
			//WristC left
			var f11 = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "WristC")
				.attr("x", placeCenterL(ChestC+BicepsC+WristC))
				.attr("y", heightScale(division*sprop.WristC[0]))
				.attr("width", pixelWidth(WristC))
				.attr("height", scale(division*sprop.WristC[1]));
			//WristC left
			var f12 = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "WristC")
				.attr("x", placeRight(ChestC*.5 + .5*(BicepsC-WristC)))
				.attr("y", heightScale(division*sprop.WristC[0]))
				.attr("width", pixelWidth(WristC))
				.attr("height", scale(division*sprop.WristC[1]));
			//WristC measurements
			var f13 = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterL(ChestC+BicepsC+WristC))
				.attr("x2", placeCenterL(ChestC+BicepsC-WristC)-arrowWidth)
				.attr("y1", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])))
				.attr("y2", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var f14 = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterR(ChestC+BicepsC+WristC))
				.attr("x2", placeCenterR(ChestC+BicepsC-WristC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])))
				.attr("y2", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var f15 = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterL(ChestC+BicepsC)-textWidth)
				.attr("y", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])))
				.text(outputText(WristC));
			var f16 = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterR(ChestC+BicepsC)+textWidth)
				.attr("y", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])))
				.text(outputText(WristC));
			//lower leg left-->AnkleC: width = AnkleC
			var f17 = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "AnkleC")
				.attr("x", placeCenterL(ThighC+AnkleC))
				.attr("y", heightScale(division*sprop.AnkleC[0]))
				.attr("width", pixelWidth(AnkleC))
				.attr("height", scale(division*sprop.AnkleC[1]));
			//lower leg right
			var f18 = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "AnkleC")
				.attr("x", placeCenterR(ThighC-AnkleC))
				.attr("y", heightScale(division*sprop.AnkleC[0]))
				.attr("width", pixelWidth(AnkleC))
				.attr("height", scale(division*sprop.AnkleC[1]));
			//AnkleC measurements
			var f19 = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterL(ThighC+AnkleC))
				.attr("x2", placeCenterL(ThighC-AnkleC)-arrowWidth)
				.attr("y1", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])))
				.attr("y2", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var f20 = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterR(ThighC+AnkleC))
				.attr("x2", placeCenterR(ThighC-AnkleC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])))
				.attr("y2", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var f21 = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterL(ThighC+AnkleC)-0.6*textWidth)
				.attr("y", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])))
				.text(outputText(AnkleC));
			var f22 = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterR(ThighC+AnkleC)+0.6*textWidth)
				.attr("y", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])))
				.text(outputText(AnkleC));
			//KneeC left
			var f23 = svgShape.append("circle")
				.attr("class", "body")
				.attr("id", "KneeC")
				.attr("cx", placeLeft(ThighC*.5))
				.attr("cy", heightScale(division*sprop.KneeC[0]))
				.attr("r", scale(dia(KneeC)*.5));
			//KneeC right
			var f24 = svgShape.append("circle")
				.attr("class", "body")
				.attr("id", "KneeC")
				.attr("cx", placeRight(ThighC*.5))
				.attr("cy", heightScale(division*sprop.KneeC[0]))
				.attr("r", scale(dia(KneeC)*.5));
			//KneeC measurements
			var f25 = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterL(ThighC+KneeC))
				.attr("x2", placeCenterL(ThighC-KneeC)-arrowWidth)
				.attr("y1", heightScale(division*(sprop.KneeC[0])))
				.attr("y2", heightScale(division*(sprop.KneeC[0])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var f26 = svgShape.append("line")
				.attr("class", "measurements")
				.attr("x1", placeCenterR(ThighC+KneeC))
				.attr("x2", placeCenterR(ThighC-KneeC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.KneeC[0])))
				.attr("y2", heightScale(division*(sprop.KneeC[0])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			var f27 = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterL(ThighC)-textWidth)
				.attr("y", heightScale(division*(sprop.KneeC[0])))
				.text(outputText(KneeC));
			var f28 = svgShape.append("text")
				.attr("class", "textMeasurements")
				.attr("text-anchor", "middle")
				.attr("x", placeCenterR(ThighC)+textWidth)
				.attr("y", heightScale(division*(sprop.KneeC[0])))
				.text(outputText(KneeC));
			//feet-->based on height: width = 0.7*division
			//foot left
			var f29 = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "feet")
				.attr("x", placeLeft(ThighC*.15) - scale(division*.7))
				.attr("y", heightScale(division*sprop.feet[0]))
				.attr("width", scale(division*.7))
				.attr("height", scale(division*sprop.feet[1]))
				.style("fill", "#AAAFB4");
			//foot right
			var f30 = svgShape.append("rect")
				.attr("class", "body")
				.attr("id", "feet")
				.attr("x", placeRight(ThighC*.15))
				.attr("y", heightScale(division*sprop.feet[0]))
				.attr("width", scale(division*.7))
				.attr("height", scale(division*sprop.feet[1]))
				.style("fill", "#AAAFB4");
		//};

		//calling shape drawing function
		//shapeUpdate();

		//style appending
		var shapeStyle = function() {
			d3.selectAll(".body")
				.attr("rx", "20")
				.attr("ry", "20");
			d3.selectAll("#WristC")
				.attr("rx", "2")
				.attr("ry", "2");
			d3.select("#head")
		 		.attr("rx", scale(dia(NeckC)*0.75))
		 		.attr("ry", scale(division*0.5));
			// d3.selectAll("#feet")
			// 	.attr("rx", "3")
			// 	.attr("ry", "3");
		};
		shapeStyle();

 		//example of dynamic manipulation
 		document.getElementById("ChestCSlider").onchange = 
 			function() {
 				ChestC = +document.getElementById("ChestCSlider").value;
				update();
 			};
 		document.getElementById("AbdomenCSlider").onchange = 
 			function() {
 				AbdomenC = +document.getElementById("AbdomenCSlider").value;
 				update();
 			};
 		document.getElementById("HipCSlider").onchange = 
 			function() {
 				HipC = +document.getElementById("HipCSlider").value;
	 			update();
 			};
 		document.getElementById("ThighCSlider").onchange = 
 			function() {
 				ThighC = +document.getElementById("ThighCSlider").value;
	 			update();
 			};
  		document.getElementById("BicepsCSlider").onchange = 
 			function() {
 				BicepsC = +document.getElementById("BicepsCSlider").value;
	 			update();
 			};
  		document.getElementById("NeckCSlider").onchange = 
 			function() {
 				NeckC = +document.getElementById("NeckCSlider").value;
	 			update();
 			};
  		document.getElementById("heightSlider").onchange = 
 			function() {
 				height = +document.getElementById("heightSlider").value;
	 			update();
 			};
  		document.getElementById("KneeCSlider").onchange = 
 			function() {
 				KneeC = +document.getElementById("KneeCSlider").value;
	 			update();
 			};
  		document.getElementById("WristCSlider").onchange = 
 			function() {
 				WristC = +document.getElementById("WristCSlider").value;
	 			update();
 			};
  		document.getElementById("AnkleCSlider").onchange = 
 			function() {
 				AnkleC = +document.getElementById("AnkleCSlider").value;
	 			update();
 			};
  		document.getElementById("ForearmCSlider").onchange = 
 			function() {
 				ForearmC = +document.getElementById("ForearmCSlider").value;
	 			update();
 			};


 		//update function--->call this once you have changed a measurement 
 		//				     property to update the figure
 		///////////////////////////////////////////////////////////////////////
 		var update = function() { 
 			//update height
 			division = cm(height)/8;
 			//updating path figure
			curvedNeck.transition()
				.attr("d", drawNeckC());
			upperSVG.transition()
				.attr("d", drawUpper());
			leftArmSVG.transition()
				.attr("d", drawLeftArm());
			rightArmSVG.transition()
				.attr("d", drawRightArm());
			lowerSVG.transition()
				.attr("d", drawLower());
			leftShoeSVG.transition()
				.attr("d", drawLeftShoe());
			rightShoeSVG.transition()
				.attr("d", drawRightShoe());
	 		headSVG.transition()
		 		.attr("cy", heightScale(division*prop.head[0]))
		 		.attr("cx", center)
		 		.attr("rx", scale(dia(NeckC)*0.75))
		 		.attr("ry", scale(division*0.5));
		 	beerBellySVG.transition()
		 		.attr("d", beerBelly());
		 	beerBellySVGTop.transition()
		 		.attr("d", beerBellyTop());
		 	beerBellySVGMiddle.transition()
		 		.attr("d", beerBellyMiddle());
		 	beerBellySVGMidTop.transition()
		 		.attr("d", beerBellyMidTop());

			//updating box figure
			// d3.selectAll(".body").exist();
			// d3.selectAll(".measurements").exist();
			// d3.selectAll(".textMeasurements").exist();
			//shapeUpdate();


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
			//NeckC
			 NeckCSVG.transition()
				.attr("x", placeCenterL(NeckC))
				.attr("y", heightScale(division*sprop.NeckC[0]))
				.attr("width", pixelWidth(NeckC))
				.attr("height", scale(division*sprop.NeckC[1]));
			//measure NeckC
			 NeckCArrow.transition()
				.attr("x1", placeCenterR(NeckC))
				.attr("x2", placeCenterL(NeckC)+arrowWidth)
				.attr("y1", heightScale(division*prop.NeckC[1]))
				.attr("y2", heightScale(division*prop.NeckC[1]))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			 NeckCText.transition()
				.attr("text-anchor", "middle")
				.attr("x", placeRight(NeckC+1))
				.attr("y", heightScale(division*(sprop.NeckC[0]-0.7*sprop.NeckC[1])))
				.text(outputText(NeckC));
			//head
			 HeadSVG.transition()
		 		.attr("cy", heightScale(division*prop.head[0]))
		 		.attr("cx", center)
		 		.attr("rx", scale(dia(NeckC)*0.75))
		 		.attr("ry", scale(division*0.5));
			//ChestC
			 ChestCSVG.transition()
				.attr("x", placeCenterL(ChestC))
				.attr("y", heightScale(division*sprop.ChestC[0]))
				.attr("width", pixelWidth(ChestC))
				.attr("height", scale(division*sprop.ChestC[1]));
			//ChestC measurements
			 ChestCArrow.transition()
				.attr("x1", placeCenterR(ChestC))
				.attr("x2", placeCenterL(ChestC)+arrowWidth)
				.attr("y1", heightScale(division*prop.ChestC[1]))
				.attr("y2", heightScale(division*prop.ChestC[1]))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			 ChestCText.transition()
				.attr("y", heightScale(division*(sprop.ChestC[0]-0.5*sprop.ChestC[1])))
				.text(outputText(ChestC));
			//abdomen
			 AbdomenCSVG.transition()
				.attr("x", placeCenterL(AbdomenC))
				.attr("y", heightScale(division*sprop.AbdomenC[0]))
				.attr("width", pixelWidth(AbdomenC))
				.attr("height", scale(division*sprop.AbdomenC[1]));
			//measure abdomen
			 AbdomenCArrow.transition()
				.attr("x1", placeCenterR(AbdomenC))
				.attr("x2", placeCenterL(AbdomenC)+arrowWidth)
				.attr("y1", heightScale(division*prop.AbdomenC[0]))
				.attr("y2", heightScale(division*prop.AbdomenC[0]))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			 AbdomenCText.transition()
				.attr("y", heightScale(division*(sprop.AbdomenC[0]-0.45*sprop.AbdomenC[1])))
				.text(outputText(AbdomenC));
			//HipC
			 HipCSVG.transition()
				.attr("x", placeCenterL(HipC))
				.attr("y", heightScale(division*sprop.HipC[0]))
				.attr("width", pixelWidth(HipC))
				.attr("height", scale(division*sprop.HipC[1]));
			//measure HipC
			 HipCArrow.transition()
				.attr("x1", placeCenterR(HipC))
				.attr("x2", placeCenterL(HipC)+arrowWidth)
				.attr("y1", heightScale(division*prop.HipC[0]))
				.attr("y2", heightScale(division*prop.HipC[0]))
			 HipCText.transition()
				.attr("x", center)
				.attr("y", heightScale(division*(sprop.HipC[0]-0.6*sprop.HipC[1])))
				.text(outputText(HipC));
			//BicepsC left
			 BicepsCSVGLeft.transition()
				.attr("x", placeCenterL(ChestC+2*BicepsC))
				.attr("y", heightScale(division*sprop.BicepsC[0]))
				.attr("width", pixelWidth(BicepsC))
				.attr("height", scale(division*sprop.BicepsC[1]));
			//BicepsC right
			 BicepsCSVGRight.transition()
				.attr("x", placeCenterR(ChestC))
				.attr("y", heightScale(division*sprop.BicepsC[0]))
				.attr("width", pixelWidth(BicepsC))
				.attr("height", scale(division*sprop.BicepsC[1]));
			//BicepsCt measurements
			 BicepsCArrowLeft.transition()
				.attr("x1", placeCenterL(ChestC))
				.attr("x2", placeLeft(BicepsC+0.5*ChestC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.attr("y2", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			 BicepsCArrowRight.transition()
				.attr("x1", placeCenterR(ChestC))
				.attr("x2", placeRight(BicepsC+0.5*ChestC)-arrowWidth)
				.attr("y1", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.attr("y2", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.style("stroke", "black")
				.attr("stroke-width", "2")
				.attr("marker-start", "url(\#begin)")
				.attr("marker-end", "url(\#end)");
			 BicepsCTextLeft.transition()
				.attr("x", placeCenterL(ChestC+BicepsC)-textWidth)
				.attr("y", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.text(outputText(BicepsC));
			 BiceptsCTextRight.transition()
				.attr("x", placeCenterR(ChestC+BicepsC)+textWidth)
				.attr("y", heightScale(division*(sprop.BicepsC[0]-0.5*sprop.BicepsC[1])))
				.text(outputText(BicepsC));
			//ForearmC left
			 ForearmCSVGLeft.transition()
				.attr("x", placeCenterL(ChestC+BicepsC+ForearmC))
				.attr("y", heightScale(division*sprop.ForearmC[0]))
				.attr("width", pixelWidth(ForearmC))
				.attr("height", scale(division*sprop.ForearmC[1]));
			//ForearmC right
			 ForearmCSVGRgith.transition()
				.attr("x", placeRight(ChestC*.5 + .5*(BicepsC-ForearmC)))
				.attr("y", heightScale(division*sprop.ForearmC[0]))
				.attr("width", pixelWidth(ForearmC))
				.attr("height", scale(division*sprop.ForearmC[1]));
			//ForearmC measurements
			 f.transition()
				.attr("x1", placeCenterL(ChestC+BicepsC+ForearmC))
				.attr("x2", placeCenterL(ChestC+BicepsC-ForearmC)-arrowWidth)
				.attr("y1", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])))
				.attr("y2", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])));
			 f2.transition()
				.attr("x1", placeCenterR(ChestC+BicepsC+ForearmC))
				.attr("x2", placeCenterR(ChestC+BicepsC-ForearmC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])))
				.attr("y2", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])));
			 f3.transition()
				.attr("x", placeCenterL(ChestC+BicepsC)-textWidth)
				.attr("y", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])))
				.text(outputText(ForearmC));
			 f4.transition()
				.attr("x", placeCenterR(ChestC+BicepsC)+textWidth)
				.attr("y", heightScale(division*(sprop.ForearmC[0]-0.5*sprop.ForearmC[1])))
				.text(outputText(ForearmC));
			//ThighC left
			 f5.transition()
				.attr("id", "ThighC")
				.attr("x", placeLeft(ThighC))
				.attr("y", heightScale(division*sprop.ThighC[0]))
				.attr("width", pixelWidth(ThighC))
				.attr("height", scale(division*sprop.ThighC[1]));
			//ThighC right
			 f6.transition()
				.attr("id", "ThighC")
				.attr("x", center)
				.attr("y", heightScale(division*sprop.ThighC[0]))
				.attr("width", pixelWidth(ThighC))
				.attr("height", scale(division*sprop.ThighC[1]));
			//ThighC measurements
			 f7.transition()
				.attr("x1", center)
				.attr("x2", placeLeft(ThighC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.ThighC[0]-0.5*sprop.ThighC[1])))
				.attr("y2", heightScale(division*(sprop.ThighC[0]-0.5*sprop.ThighC[1])));
			 f8.transition()
				.attr("x1", placeRight(ThighC))
				.attr("x2", center+arrowWidth)
				.attr("y1", heightScale(division*(sprop.ThighC[0]-0.5*sprop.ThighC[1])))
				.attr("y2", heightScale(division*(sprop.ThighC[0]-0.5*sprop.ThighC[1])));
			 f9.transition()
				.attr("x", placeCenterL(ThighC))
				.attr("y", heightScale(division*(sprop.ThighC[0]-0.45*sprop.ThighC[1])))
				.text(outputText(ThighC));
			 f10.transition()
				.attr("x", placeCenterR(ThighC))
				.attr("y", heightScale(division*(sprop.ThighC[0]-0.45*sprop.ThighC[1])))
				.text(outputText(ThighC));
			//WristC left
			 f11.transition()
				.attr("id", "WristC")
				.attr("x", placeCenterL(ChestC+BicepsC+WristC))
				.attr("y", heightScale(division*sprop.WristC[0]))
				.attr("width", pixelWidth(WristC))
				.attr("height", scale(division*sprop.WristC[1]));
			//WristC left
			 f12.transition()
				.attr("id", "WristC")
				.attr("x", placeRight(ChestC*.5 + .5*(BicepsC-WristC)))
				.attr("y", heightScale(division*sprop.WristC[0]))
				.attr("width", pixelWidth(WristC))
				.attr("height", scale(division*sprop.WristC[1]));
			//WristC measurements
			 f13.transition()
				.attr("x1", placeCenterL(ChestC+BicepsC+WristC))
				.attr("x2", placeCenterL(ChestC+BicepsC-WristC)-arrowWidth)
				.attr("y1", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])))
				.attr("y2", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])));
			 f14.transition()
				.attr("x1", placeCenterR(ChestC+BicepsC+WristC))
				.attr("x2", placeCenterR(ChestC+BicepsC-WristC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])))
				.attr("y2", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])));
			 f15.transition()
				.attr("x", placeCenterL(ChestC+BicepsC)-textWidth)
				.attr("y", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])))
				.text(outputText(WristC));
			 f16.transition()
				.attr("x", placeCenterR(ChestC+BicepsC)+textWidth)
				.attr("y", heightScale(division*(sprop.WristC[0]-0.5*sprop.WristC[1])))
				.text(outputText(WristC));
			//lower leg left-->AnkleC: width = AnkleC
			 f17.transition()
				.attr("id", "AnkleC")
				.attr("x", placeCenterL(ThighC+AnkleC))
				.attr("y", heightScale(division*sprop.AnkleC[0]))
				.attr("width", pixelWidth(AnkleC))
				.attr("height", scale(division*sprop.AnkleC[1]));
			//lower leg right
			 f18.transition()
				.attr("id", "AnkleC")
				.attr("x", placeCenterR(ThighC-AnkleC))
				.attr("y", heightScale(division*sprop.AnkleC[0]))
				.attr("width", pixelWidth(AnkleC))
				.attr("height", scale(division*sprop.AnkleC[1]));
			//AnkleC measurements
			 f19.transition()
				.attr("x1", placeCenterL(ThighC+AnkleC))
				.attr("x2", placeCenterL(ThighC-AnkleC)-arrowWidth)
				.attr("y1", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])))
				.attr("y2", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])));
			 f20.transition()
				.attr("x1", placeCenterR(ThighC+AnkleC))
				.attr("x2", placeCenterR(ThighC-AnkleC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])))
				.attr("y2", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])));
			 f21.transition()
				.attr("x", placeCenterL(ThighC+AnkleC)-0.6*textWidth)
				.attr("y", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])))
				.text(outputText(AnkleC));
			 f22.transition()
				.attr("x", placeCenterR(ThighC+AnkleC)+0.6*textWidth)
				.attr("y", heightScale(division*(sprop.AnkleC[0]-0.9*sprop.AnkleC[1])))
				.text(outputText(AnkleC));
			//KneeC left
			 f23.transition()
				.attr("cx", placeLeft(ThighC*.5))
				.attr("cy", heightScale(division*sprop.KneeC[0]))
				.attr("r", scale(dia(KneeC)*.5));
			//KneeC right
			 f24.transition()
				.attr("cx", placeRight(ThighC*.5))
				.attr("cy", heightScale(division*sprop.KneeC[0]))
				.attr("r", scale(dia(KneeC)*.5));
			//KneeC measurements
			 f25.transition()
				.attr("x1", placeCenterL(ThighC+KneeC))
				.attr("x2", placeCenterL(ThighC-KneeC)-arrowWidth)
				.attr("y1", heightScale(division*(sprop.KneeC[0])))
				.attr("y2", heightScale(division*(sprop.KneeC[0])));
			 f26.transition()
				.attr("x1", placeCenterR(ThighC+KneeC))
				.attr("x2", placeCenterR(ThighC-KneeC)+arrowWidth)
				.attr("y1", heightScale(division*(sprop.KneeC[0])))
				.attr("y2", heightScale(division*(sprop.KneeC[0])));
			 f27.transition()
				.attr("x", placeCenterL(ThighC)-textWidth)
				.attr("y", heightScale(division*(sprop.KneeC[0])))
				.text(outputText(KneeC));
			 f28.transition()
				.attr("x", placeCenterR(ThighC)+textWidth)
				.attr("y", heightScale(division*(sprop.KneeC[0])))
				.text(outputText(KneeC));
			//feet-->based on height: width = 0.7*division
			//foot left
			 f29.transition()
				.attr("id", "feet")
				.attr("x", placeLeft(ThighC*.15) - scale(division*.7))
				.attr("y", heightScale(division*sprop.feet[0]))
				.attr("width", scale(division*.7))
				.attr("height", scale(division*sprop.feet[1]));
			//foot right
			 f30.transition()
				.attr("id", "feet")
				.attr("x", placeRight(ThighC*.15))
				.attr("y", heightScale(division*sprop.feet[0]))
				.attr("width", scale(division*.7))
				.attr("height", scale(division*sprop.feet[1]));
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

			shapeStyle();





			//function call to create ;ostmers
			//createBodyListners();
 		};

	</script>

	
	<script type="text/javascript">
	/*
	$.getJSON("data/BodyFat.json", function(json) {
    	console.log(json);
    });
*/

	//all the potential variables needed outside the callback function
	var data;
	var fitLine;
	var minmax;
	var retLinePts;
	var retAllPts;
	var plotGraph;
	var graphAxis;
	var graphTitle = "Thigh Diameter vs Body Fat";
	var graphTitleX = "Diameter of Thigh (cm)";
	var graphTitleY = "Percent Body Fat (%)";
	var graphTitleFunct;
	var xAxis;
	var yAxis;
	var getFat;
	var graphPointer;
	var svgGraph;
	var xValue;
	var yValue;
	var sliderName;
	var value;
	
	d3.json("data/BodyFat.json", function (datainside) {
		data = datainside;
		fitLine = function(xVar,yVar){
			var sumX = 0;
			var sumY = 0;
			var sumXY = 0;
			var sumXsq = 0;
			data.forEach(function(element){
				sumX += element[xVar];
				sumY += element[yVar];
				sumXY += element[xVar]*element[yVar];
				sumXsq += element[xVar]*element[xVar];
			})
			var slope = (data.length*sumXY - (sumX*sumY))/(data.length*sumXsq - (sumX*sumX));
			var intercept = ((sumY - (slope*sumX))/data.length);
			return function(x){ return slope*x+intercept; }
		}

		minmax = function(variable){
			var minVal = Number.POSITIVE_INFINITY;
			var maxVal = Number.NEGATIVE_INFINITY;
			data.forEach(function(element){
				if (element[variable]<minVal){
					minVal = element[variable];
				}
				if (element[variable]>maxVal){
					maxVal = element[variable];
				}
			})
			return [minVal,maxVal];
		}

		retLinePts = function(xVar,yVar){
			var fitln = fitLine(xVar,yVar);
			xVarminmaxX = minmax(xVar);
			corrYwMinmax = [fitln(xVarminmaxX[0]),fitln(xVarminmaxX[1])];
			return [{"x": xVarminmaxX[0],	"y": heightGraph-corrYwMinmax[0]},
					{"x": xVarminmaxX[1],	"y": heightGraph-corrYwMinmax[1]}];
		}

		retAllPts = function(xVar,yVar){
			data.sort(function(a, b){
			 return a[xVar]-b[xVar]
			})
			pointArr = [];
			data.forEach(function(element){
				xVal = element[xVar];
				yVal = element[yVar];
				pointArr.push({"x": dia(xVal), "y": yVal});
			})
			return pointArr;
		}

		var paddingGraph = 100;
		var titlePadding = 100
		var extraPadding = 20;
		var heightGraph = 500;
		var widthGraph = 600;
		plotGraph = function(xVar, yVar){
			xScaleMinmax = minmax(xVar);
			yScaleMinmax = minmax(yVar);
			xScale = d3.scale.linear().domain([dia(xScaleMinmax[0])*0.9,dia(xScaleMinmax[1])*1.1]).range([paddingGraph,widthGraph]);
			yScale = d3.scale.linear().domain([yScaleMinmax[0]*0.9,yScaleMinmax[1]*1.1]).range([heightGraph+titlePadding-paddingGraph+extraPadding,extraPadding+titlePadding]);

			var intFormat = d3.format("d");
			var percentFormat = d3.format("%");
			//axis
			yAxis = d3.svg.axis().scale(yScale).orient("left").tickFormat(function (d) {
				return intFormat(d);
			});
			xAxis = d3.svg.axis().scale(xScale).orient("bottom").tickFormat(function (d) {
				return intFormat(d);
			});

			svgGraph = d3.select("#divCanvasShape").append("svg")
				.attr("class", "graphSVG")
				.attr("height", heightGraph+extraPadding+titlePadding)
				.attr("width", widthGraph+extraPadding)
			//get the data
			var lineData = retAllPts(xVar,yVar);

			var lineFunction = d3.svg.line()
				.x(function(d) { 
					//console.log(xScale(d.x));
					return xScale(d.x); })
				.y(function(d) { 
					// console.log(yScale(d.y));
					return yScale(d.y); })
				.interpolate("bundle").tension(.7);

			//The line SVG Path we draw
			var lineGraph = svgGraph.append("path")
				.attr("d", lineFunction(lineData))
				.attr("stroke", "blue")
				.attr("stroke-width", 1)
				.attr("fill", "none");

			//appending axis
			// graphAxis = function() {
				svgGraph.append("g")
					.attr("class", "axis")
					.attr("id", "xAxis")
					.attr("transform", "translate(0,"+(heightGraph+titlePadding+extraPadding-paddingGraph)+")")
					.call(xAxis);
				svgGraph.append("g")
					.attr("class", "axis")
					.attr("id", "yAxis")
					.attr("transform", "translate("+paddingGraph+",0)")
					.call(yAxis);
			// }
			// graphAxis();

			//appending graph titles and descriptions
			// graphTitleFunct = function() {
				svgGraph.append("text")
						.attr("class", "titles")
						.attr("id", "graphTitle")
				        .attr("x", (widthGraph+paddingGraph)/ 2)             
				        .attr("y", extraPadding+titlePadding*0.5)
				        .attr("text-anchor", "middle")  
				        .text(graphTitle);
				svgGraph.append("text")
						.attr("class", "titles")
						.attr("id", "graphTitleX")
				        .attr("x", (widthGraph+paddingGraph)/ 2)             
				        .attr("y", extraPadding+heightGraph+titlePadding*0.7)
				        .attr("text-anchor", "middle")  
				        .text(graphTitleX);
				svgGraph.append("text")
						.attr("class", "titles")
						.attr("id", "graphTitleY")
				        .attr("x", paddingGraph/2)             
				        .attr("y", extraPadding+(paddingGraph*0.7)+(heightGraph)*0.5)
				        .attr("text-anchor", "middle")
				        .attr("transform", "rotate(270 " + (paddingGraph/2) + "," + 
				        	(extraPadding+(paddingGraph*0.7)+(heightGraph)*0.5) + ")")
				        .text(graphTitleY);
			// }
			// graphTitleFunct();

			}


		plotGraph('ThighC', 'PercentBodyFat');
		// console.log(minmax('ThighC'));
		calcFitYThighC = fitLine('ThighC', 'PercentBodyFat');
		// console.log(calcFitYThighC(27));
		// console.log(minmax('ThighC'));
		// console.log(data);
		//Body stuff
		//TODO: rename AnkleC to AnkleC
		$('.fullwidth').hide();
		$('#instruc').show();

			var name;
			$(".body").click(function(){
				name = $(this).attr('id');
				//console.log(name);
				//Do nothing for head and feet
				if ((name == "head")||(name == "feet")){
				}else{
					//Clear old ones
					$(".body").each(function(){
						$(this).css("fill","white");
					})
					//keep head and feet grey
					d3.selectAll("#head")
						.style("fill", "#AAAFB4");
					d3.selectAll("#feet")
						.style("fill", "#AAAFB4");
					$('.fullwidth').hide();
					//Set selected color
					//$(this).css("fill","red");
					d3.selectAll("#" + name).transition()
						.style("fill", "red");
					//Update the Slider
					$('#bPart').html(name);
					$('#'+name+'Slider').show();

					//updating Graph
					d3.selectAll(".titles").remove();
					d3.selectAll(".graphSVG").remove();
					d3.selectAll(".axis").remove();
					d3.selectAll("#graphPointer").remove();
			  		// document.getElementById(sliderName).onchange = 
			 			// function() {
			 			// 	mappingSetter[name](+document.getElementById(sliderName).value); 
				 		// 	update();
			 			// };
					var xName = name.substring(0, name.length-1);
					graphTitleX = "Diameter of " + xName + " (cm)";
					graphTitle = xName + " Diameter vs Body Fat";
					plotGraph(name,'PercentBodyFat');

					//appending slider point base on best fit line
					sliderName =name + "Slider";
					getFat = fitLine(name, 'PercentBodyFat');
					graphPointer = svgGraph.append("circle")
						.attr("id", "graphPointer")
						.attr("r", "5")
						.attr("cx", "-100")
						.attr("cy", "700");
			  		document.getElementById(sliderName).onchange = 
			 			function() {
			 				value = +document.getElementById(sliderName).value;
			 				mappingSetter[name](value);
			 				percent = getFat(value); 
				 			update();
				 			yValue = yScale(percent);
				 			xValue = xScale(dia(value));
				 			graphPointer.transition()
				 				.attr("cx", xValue)
				 				.attr("cy", yValue);
				 			//console.log(xValue + " | " + yValue);
				 			$('#bValue').html(Math.round(10*dia(value))/10 + "cm");
							$('#bPart').html(xName);
			 			};
				}
			})
	})

	</script>
</body>
</html>
